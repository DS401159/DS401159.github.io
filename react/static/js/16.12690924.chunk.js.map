{"version":3,"sources":["scripts/views/showscore/index.js","../node_modules/react-html-table-to-excel/index.js"],"names":["Option","Select","Search","Input","columns","title","dataIndex","key","width","align","textWrap","render","text","record","style","wordWrap","wordBreak","sorter","a","b","score","setdata","res","data","result","forEach","item","index","obj","i","type","username","projectName","projectUrl","readme","tech","push","Showscore","connect","state","bj","getIn","kj","user","handleChangemintor","value","setState","mintor","setTimeout","axios","get","params","search","then","handleChangetype","this","props","dispatch","getbj","url","getkj","length","ReactDOM","findDOMNode","table","querySelector","setAttribute","className","defaultValue","onChange","map","code","marginLeft","p_code","placeholder","onSearch","margin","id","filename","sheet","buttonText","marginTop","dataSource","bordered","ref","el","Component","Object","defineProperty","exports","_createClass","defineProperties","target","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","prototype","_react","_react2","_interopRequireDefault","_propTypes2","__esModule","default","propTypes","string","isRequired","ReactHTMLTableToExcel","_Component","instance","TypeError","_classCallCheck","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","handleDownload","bind","subClass","superClass","create","constructor","setPrototypeOf","_inherits","document","getElementById","nodeType","nodeName","outerHTML","String","context","worksheet","window","navigator","msSaveOrOpenBlob","blobObject","Blob","click","element","createElement","href","base64","format","download","body","appendChild","removeChild","onClick","s","btoa","unescape","encodeURIComponent","c","replace","m","p","defaultProps"],"mappings":"oTAIQA,EAAWC,IAAXD,OACAE,EAAWC,IAAXD,OAOJE,EAAU,CACV,CACIC,MAAO,eACPC,UAAW,IACXC,IAAK,IACLC,MAAO,GACPC,MAAO,UAEX,CACIJ,MAAO,eACPC,UAAW,OACXC,IAAK,OACLC,MAAO,GACPC,MAAO,UAEX,CACIJ,MAAO,qBACPC,UAAW,WACXC,IAAK,WACLC,MAAO,GACPC,MAAO,UAEX,CACIJ,MAAO,2BACPC,UAAW,cACXC,IAAK,cACLC,MAAO,GACPC,MAAO,UAEX,CACIJ,MAAO,2BACPC,UAAW,aACXC,IAAK,aACLC,MAAO,IACPC,MAAO,SACPC,SAAU,cACVC,OAAQ,SAACC,EAAMC,GAAP,OACJ,uBAAMC,MAAO,CAAEC,SAAU,eAAgBC,UAAW,eAC/CJ,KAIb,CACIP,MAAO,eACPC,UAAW,SACXC,IAAK,SACLC,MAAO,IACPC,MAAO,SACPC,SAAU,aACVC,OAAQ,SAACC,EAAMC,GAAP,OACJ,uBAAMC,MAAO,CAAEC,SAAU,eAAgBC,UAAW,eAC/CJ,KAIb,CACIP,MAAO,uCACPC,UAAW,OACXC,IAAK,OACLC,MAAO,IACPC,MAAO,SACPC,SAAU,cACVC,OAAQ,SAACC,EAAMC,GAAP,OACJ,uBAAMC,MAAO,CAAEC,SAAU,eAAgBC,UAAW,eAC/CJ,KAIb,CACIP,MAAO,eACPC,UAAW,QACXC,IAAK,QACLC,MAAO,GACPC,MAAO,SACPQ,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAEE,MAAQD,EAAEC,SAItC,SAASC,EAAQC,GACb,IAAIC,EAAO,GAcX,OAbAD,EAAIC,KAAKC,OAAOC,SAAQ,SAACC,EAAMC,GAC3B,IAAIC,EAAM,GACVA,EAAIrB,IAAMoB,EAAQ,EAClBC,EAAIC,EAAIF,EAAQ,EAChBC,EAAIE,KAAOJ,EAAKI,KAChBF,EAAIG,SAAWL,EAAKK,SACpBH,EAAII,YAAcN,EAAKM,YACvBJ,EAAIK,WAAaP,EAAKO,WACtBL,EAAIM,OAASR,EAAKQ,OAClBN,EAAIO,KAAOT,EAAKS,KAChBP,EAAIR,MAAQM,EAAKN,MAAMM,EAAKN,MAAM,GAClCG,EAAKa,KAAKR,MAEPL,E,IAaUc,EAVpBC,aACG,SAACC,GACG,MAAM,CACFC,GAAGD,EAAME,MAAM,CAAC,OAAO,OACvBC,GAAGH,EAAME,MAAM,CAAC,OAAO,OACvBE,KAAKJ,EAAME,MAAM,CAAC,OAAO,Y,eAMjC,aAAe,IAAD,8BACV,+CASJG,mBAAqB,SAACC,GAClB,EAAKC,SAAS,CACVC,OAAOF,IAEXG,YAAW,WACPC,IAAMC,IAAI,iBAAkB,CACxBC,OAAQ,CACJJ,OAAO,EAAKR,MAAMQ,OAClBjB,KAAK,EAAKS,MAAMT,KAChBsB,OAAO,EAAKb,MAAMa,UAEvBC,MAAK,SAAA/B,GACJ,IAAIC,EAAKF,EAAQC,GACjB,EAAKwB,SAAS,CACVvB,cAGV,MA3BQ,EA8Bd+B,iBAAmB,SAACT,GAChB,EAAKC,SAAS,CACVhB,KAAKe,IAETG,YAAW,WACPC,IAAMC,IAAI,iBAAkB,CACxBC,OAAQ,CACJJ,OAAO,EAAKR,MAAMQ,OAClBjB,KAAK,EAAKS,MAAMT,KAChBsB,OAAO,EAAKb,MAAMa,UAEvBC,MAAK,SAAA/B,GACJ,IAAIC,EAAKF,EAAQC,GACjB,EAAKwB,SAAS,CACVvB,cAGV,MA/CQ,EAkDd6B,OAAO,SAACP,GACJ,EAAKC,SAAS,CACVM,OAAOP,IAEXG,YAAW,WACPC,IAAMC,IAAI,iBAAkB,CACxBC,OAAQ,CACJJ,OAAO,EAAKR,MAAMQ,OAClBjB,KAAK,EAAKS,MAAMT,KAChBsB,OAAO,EAAKb,MAAMa,UAEvBC,MAAK,SAAA/B,GACJ,IAAIC,EAAKF,EAAQC,GACjB,EAAKwB,SAAS,CACVvB,cAGV,MAjEF,EAAKgB,MAAQ,CACTQ,OAAQ,GACRjB,KAAM,GACNsB,OAAQ,GACR7B,KAAM,IANA,E,iFAsEO,IAAD,OAChBgC,KAAKC,MAAMC,SAASC,YAAM,CAACC,IAAI,kBAC/BJ,KAAKC,MAAMC,SAASG,YAAM,CAACD,IAAI,kBACF,GAAzBJ,KAAKhB,MAAMhB,KAAKsC,QAChBZ,IAAMC,IAAI,iBAAkB,CACxBC,OAAQ,CACJJ,OAAQ,YAEbM,MAAK,SAAA/B,GACJ,IAAIC,EAAKF,EAAQC,GACjB,EAAKwB,SAAS,CACVvB,YAIKuC,IAASC,YAAYR,KAAKS,OACpBC,cAAc,SAC/BC,aAAa,KAAK,kB,+BAElB,IAAD,SAIDX,KAAKC,MAFLhB,EAFC,EAEDA,GACAE,EAHC,EAGDA,GAEJ,OACI,2BACI,2BACI,wBAAMyB,UAAU,UAAhB,8CACA,gBAAC,IAAD,CAAQC,aAAa,qBAAMtD,MAAO,CAAEN,MAAO,KAAO6D,SAAUd,KAAKX,oBAEzDJ,EAAG8B,KAAI,SAAC5C,EAAMG,GACV,OACI,gBAAC7B,EAAD,CAAQ6C,MAAOnB,EAAK6C,KAAMhE,IAAKsB,GAAIH,EAAKmB,WAKxD,wBAAMsB,UAAU,SAASrD,MAAO,CAAE0D,WAAY,KAA9C,+CACA,gBAAC,IAAD,CAAQJ,aAAa,6CAAUtD,MAAO,CAAEN,MAAO,KAAO6D,SAAUd,KAAKD,kBAE7DZ,EAAG4B,KAAI,SAAC5C,EAAMG,GACV,OACI,gBAAC7B,EAAD,CAAQ6C,MAAOnB,EAAK+C,OAAQlE,IAAKsB,GAAIH,EAAKmB,WAK1D,gBAAC3C,EAAD,CACIwE,YAAY,uCACZC,SAAU,SAAA9B,GAAK,OAAG,EAAKO,OAAOP,IAC9B/B,MAAO,CAAEN,MAAO,IAAKoE,OAAO,YAEhC,gBAAC,IAAD,CACIC,GAAG,wBACHV,UAAU,kCACVH,MAAM,eACNc,SAAS,WACTC,MAAM,WACNC,WAAW,4BAGf,sBAAIlE,MAAO,CAAEmE,UAAW,KAAxB,4BACA,gBAAC,IAAD,CAAO7E,QAASA,EAAS8E,WAAY3B,KAAKhB,MAAMhB,KAAM4D,UAAU,EAAMC,IAAK,SAAAC,GAAE,OAAE,EAAKrB,MAAMqB,W,GArIvEC,K,0FCpHvCC,OAAOC,eAAeC,EAAS,aAAc,CAC3C5C,OAAO,IAGT,IAAI6C,EAAe,WACjB,SAASC,EAAiBC,EAAQpC,GAChC,IAAK,IAAI3B,EAAI,EAAGA,EAAI2B,EAAMK,OAAQhC,IAAK,CACrC,IAAIgE,EAAarC,EAAM3B,GACvBgE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDT,OAAOC,eAAeI,EAAQC,EAAWtF,IAAKsF,IAIlD,OAAO,SAAUI,EAAaC,EAAYC,GAGxC,OAFID,GAAYP,EAAiBM,EAAYG,UAAWF,GACpDC,GAAaR,EAAiBM,EAAaE,GACxCF,GAdQ,GAkBfI,EAAS,EAAQ,GAEjBC,EAAUC,EAAuBF,GAIjCG,EAAcD,EAFD,EAAQ,IAIzB,SAASA,EAAuB3E,GAC9B,OAAOA,GAAOA,EAAI6E,WAAa7E,EAAM,CACnC8E,QAAS9E,GAoCb,IAAI+E,EAAY,CACd3C,MAAOwC,EAAYE,QAAQE,OAAOC,WAClC/B,SAAU0B,EAAYE,QAAQE,OAAOC,WACrC9B,MAAOyB,EAAYE,QAAQE,OAAOC,WAClChC,GAAI2B,EAAYE,QAAQE,OACxBzC,UAAWqC,EAAYE,QAAQE,OAC/B5B,WAAYwB,EAAYE,QAAQE,QAQ9BE,EAAwB,SAAUC,GAGpC,SAASD,EAAsBtD,IAjDjC,SAAyBwD,EAAUf,GACjC,KAAMe,aAAoBf,GACxB,MAAM,IAAIgB,UAAU,qCAgDpBC,CAAgB3D,KAAMuD,GAEtB,IAAIK,EA9CR,SAAoCC,EAAMC,GACxC,IAAKD,EACH,MAAM,IAAIE,eAAe,6DAG3B,OAAOD,GAAyB,kBAATA,GAAqC,oBAATA,EAA8BD,EAAPC,EAyC5DE,CAA2BhE,MAAOuD,EAAsBU,WAAajC,OAAOkC,eAAeX,IAAwBO,KAAK9D,KAAMC,IAG1I,OADA2D,EAAMO,eAAiBP,EAAMO,eAAeC,KAAKR,GAC1CA,EAyET,OAlHF,SAAmBS,EAAUC,GAC3B,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIZ,UAAU,kEAAoEY,GAG1FD,EAASxB,UAAYb,OAAOuC,OAAOD,GAAcA,EAAWzB,UAAW,CACrE2B,YAAa,CACXlF,MAAO+E,EACP9B,YAAY,EACZE,UAAU,EACVD,cAAc,KAGd8B,IAAYtC,OAAOyC,eAAiBzC,OAAOyC,eAAeJ,EAAUC,GAAcD,EAASJ,UAAYK,GAoB3GI,CAAUnB,EAAuBC,GAWjCrB,EAAaoB,EAAuB,CAAC,CACnCvG,IAAK,iBACLsC,MAAO,WACL,IAAKqF,SAKH,OAAO,KAGT,GAA2D,IAAvDA,SAASC,eAAe5E,KAAKC,MAAMQ,OAAOoE,UAAyE,UAAvDF,SAASC,eAAe5E,KAAKC,MAAMQ,OAAOqE,SAKxG,OAAO,KAGT,IAAIrE,EAAQkE,SAASC,eAAe5E,KAAKC,MAAMQ,OAAOsE,UAClDvD,EAAQwD,OAAOhF,KAAKC,MAAMuB,OAC1BD,EAAWyD,OAAOhF,KAAKC,MAAMsB,UAAY,OAGzC0D,EAAU,CACZC,UAAW1D,GAAS,YACpBf,MAAOA,GAGT,GAAI0E,OAAOC,UAAUC,iBAAkB,CACrC,IACIC,EAAa,IAAIC,KADN,CAAM,sbAA6c9E,EAAQ,mBAK1e,OAHAkE,SAASC,eAAe,6BAA6BY,OAArDb,EAA6D,WAC3DQ,OAAOC,UAAUC,iBAAiBC,EAAY/D,OAEzC,EAGT,IAAIkE,EAAUN,OAAOR,SAASe,cAAc,KAM5C,OALAD,EAAQE,KAjBE,wCAiBWpC,EAAsBqC,OAAOrC,EAAsBsC,OAhBzD,2cAgB0EZ,IACzFQ,EAAQK,SAAWvE,EACnBoD,SAASoB,KAAKC,YAAYP,GAC1BA,EAAQD,QACRb,SAASoB,KAAKE,YAAYR,IACnB,IAER,CACDzI,IAAK,SACLsC,MAAO,WACL,OAAOyD,EAAQI,QAAQuC,cAAc,SAAU,CAC7CpE,GAAItB,KAAKC,MAAMqB,GACfV,UAAWZ,KAAKC,MAAMW,UACtBrC,KAAM,SACN2H,QAASlG,KAAKmE,gBACbnE,KAAKC,MAAMwB,eAEd,CAAC,CACHzE,IAAK,SACLsC,MAAO,SAAgB6G,GACrB,OAAOhB,OAAOiB,KAAKC,SAASC,mBAAmBH,OAEhD,CACDnJ,IAAK,SACLsC,MAAO,SAAgB6G,EAAGI,GACxB,OAAOJ,EAAEK,QAAQ,YAAY,SAAUC,EAAGC,GACxC,OAAOH,EAAEG,UAKRnD,EAlFmB,CAmF1BT,EAAOf,WAETwB,EAAsBH,UAAYA,EAClCG,EAAsBoD,aA5FH,CACjBrF,GAAI,yBACJV,UAAW,kBACXa,WAAY,YA0FdS,EAAQiB,QAAUI","file":"static/js/16.12690924.chunk.js","sourcesContent":["\r\n\r\nimport { Select, Input, Button, Table } from 'antd';\r\nimport { axios } from '&'\r\nconst { Option } = Select;\r\nconst { Search } = Input\r\nimport {connect} from 'react-redux'\r\nimport './index.scss'\r\nimport { getkj,getbj,getuser} from '../../actions';\r\nimport ReactHTMLTableToExcel from 'react-html-table-to-excel'\r\nimport ReactDOM from 'react-dom'\r\n\r\nvar columns = [\r\n    {\r\n        title: '序号',\r\n        dataIndex: 'i',\r\n        key: 'i',\r\n        width: 50,\r\n        align: 'center'\r\n    },\r\n    {\r\n        title: '框架',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n        width: 60,\r\n        align: 'center'\r\n    },\r\n    {\r\n        title: '开发者',\r\n        dataIndex: 'username',\r\n        key: 'username',\r\n        width: 60,\r\n        align: 'center'\r\n    },\r\n    {\r\n        title: '项目名称',\r\n        dataIndex: 'projectName',\r\n        key: 'projectName',\r\n        width: 70,\r\n        align: 'center'\r\n    },\r\n    {\r\n        title: '项目地址',\r\n        dataIndex: 'projectUrl',\r\n        key: 'projectUrl',\r\n        width: 100,\r\n        align: 'center',\r\n        textWrap: ' word-break',\r\n        render: (text, record) => (\r\n            < div style={{ wordWrap: ' break-word ', wordBreak: 'break-word' }} >\r\n                {text}\r\n            </ div >\r\n        )\r\n    },\r\n    {\r\n        title: '备注',\r\n        dataIndex: 'readme',\r\n        key: 'readme',\r\n        width: 200,\r\n        align: 'center',\r\n        textWrap: 'word-break',\r\n        render: (text, record) => (\r\n            < div style={{ wordWrap: ' break-word ', wordBreak: 'break-word' }} >\r\n                {text}\r\n            </ div >\r\n        )\r\n    },\r\n    {\r\n        title: '项目技术亮点',\r\n        dataIndex: 'tech',\r\n        key: 'tech',\r\n        width: 200,\r\n        align: 'center',\r\n        textWrap: ' word-break',\r\n        render: (text, record) => (\r\n            < div style={{ wordWrap: ' break-word ', wordBreak: 'break-word' }} >\r\n                {text}\r\n            </ div >\r\n        )\r\n    },\r\n    {\r\n        title: '分数',\r\n        dataIndex: 'score',\r\n        key: 'score',\r\n        width: 50,\r\n        align: 'center',\r\n        sorter: (a, b) => a.score - b.score,\r\n        // sortOrder: sortedInfo.columnKey === 'score' && sortedInfo.order\r\n    }]\r\n\r\nfunction setdata(res) {\r\n    var data = [];\r\n    res.data.result.forEach((item, index) => {\r\n        var obj = {}\r\n        obj.key = index + 1\r\n        obj.i = index + 1\r\n        obj.type = item.type\r\n        obj.username = item.username\r\n        obj.projectName = item.projectName\r\n        obj.projectUrl = item.projectUrl\r\n        obj.readme = item.readme\r\n        obj.tech = item.tech\r\n        obj.score = item.score?item.score:''\r\n        data.push(obj)\r\n    })\r\n    return data\r\n}\r\n\r\n@connect(\r\n    (state)=>{\r\n        return{\r\n            bj:state.getIn(['data','bj']),\r\n            kj:state.getIn(['data','kj']),\r\n            user:state.getIn(['user','user'])\r\n        }\r\n    }\r\n)\r\n\r\nexport default class Showscore extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            mintor: '',\r\n            type: '',\r\n            search: '',\r\n            data: []\r\n        }\r\n    }\r\n\r\n    handleChangemintor = (value) => {\r\n        this.setState({\r\n            mintor:value\r\n        })\r\n        setTimeout(()=>{\r\n            axios.get('/react/getcore', {\r\n                params: {\r\n                    mintor:this.state.mintor,\r\n                    type:this.state.type,\r\n                    search:this.state.search\r\n                }\r\n            }).then(res => {\r\n                var data=setdata(res)\r\n                this.setState({\r\n                    data\r\n                })\r\n            })\r\n        },100)\r\n    }\r\n\r\n    handleChangetype = (value) => {\r\n        this.setState({\r\n            type:value\r\n        })\r\n        setTimeout(()=>{\r\n            axios.get('/react/getcore', {\r\n                params: {\r\n                    mintor:this.state.mintor,\r\n                    type:this.state.type,\r\n                    search:this.state.search\r\n                }\r\n            }).then(res => {\r\n                var data=setdata(res)\r\n                this.setState({\r\n                    data\r\n                })\r\n            })\r\n        },100)\r\n    }\r\n\r\n    search=(value)=>{\r\n        this.setState({\r\n            search:value\r\n        })\r\n        setTimeout(()=>{\r\n            axios.get('/react/getcore', {\r\n                params: {\r\n                    mintor:this.state.mintor,\r\n                    type:this.state.type,\r\n                    search:this.state.search\r\n                }\r\n            }).then(res => {\r\n                var data=setdata(res)\r\n                this.setState({\r\n                    data\r\n                })\r\n            })\r\n        },100)\r\n    }\r\n  \r\n    componentDidMount() {\r\n        this.props.dispatch(getbj({url:'/react/getbj'}))\r\n        this.props.dispatch(getkj({url:'/react/getkj'}))\r\n        if (this.state.data.length ==0) {\r\n            axios.get('/react/getcore', {\r\n                params: {\r\n                    mintor: 'wh1906'\r\n                }\r\n            }).then(res => {\r\n                var data=setdata(res)\r\n                this.setState({\r\n                    data\r\n                })\r\n            })\r\n        }\r\n        const tableCon = ReactDOM.findDOMNode(this.table)\r\n        const table = tableCon.querySelector('table')\r\n        table.setAttribute('id','table-to-xls')\r\n    }\r\n    render() {\r\n        var {\r\n            bj,\r\n            kj\r\n        } = this.props\r\n        return (\r\n            <div >\r\n                <div>\r\n                    <span className='select'>选择对应班级：</span>\r\n                    <Select defaultValue=\"请选择\" style={{ width: 180 }} onChange={this.handleChangemintor}>\r\n                        {\r\n                            bj.map((item, i) => {\r\n                                return (\r\n                                    <Option value={item.code} key={i}>{item.value}</Option>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Select>\r\n                    <span className='select' style={{ marginLeft: 40 }}>请选择框架类型:</span>\r\n                    <Select defaultValue=\"请选择框架类型\" style={{ width: 180 }} onChange={this.handleChangetype}>\r\n                        {\r\n                            kj.map((item, i) => {\r\n                                return (\r\n                                    <Option value={item.p_code} key={i}>{item.value}</Option>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Select>\r\n                    <Search\r\n                        placeholder=\"请输入关键字\"\r\n                        onSearch={value =>this.search(value)}\r\n                        style={{ width: 200, margin:'0 60px' }}\r\n                    />\r\n                    <ReactHTMLTableToExcel\r\n                        id=\"test-table-xls-button\"\r\n                        className=\"download-table-xls-button excel\"\r\n                        table=\"table-to-xls\"\r\n                        filename=\"tablexls\"\r\n                        sheet=\"tablexls\"\r\n                        buttonText=\"导出到Excel\"\r\n                    />\r\n\r\n                    <h1 style={{ marginTop: 30 }}>项目详情</h1>\r\n                    <Table columns={columns} dataSource={this.state.data} bordered={true} ref={el=>this.table=el} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/* global window, document, Blob */\n\n\nvar propTypes = {\n  table: _propTypes2.default.string.isRequired,\n  filename: _propTypes2.default.string.isRequired,\n  sheet: _propTypes2.default.string.isRequired,\n  id: _propTypes2.default.string,\n  className: _propTypes2.default.string,\n  buttonText: _propTypes2.default.string\n};\nvar defaultProps = {\n  id: 'button-download-as-xls',\n  className: 'button-download',\n  buttonText: 'Download'\n};\n\nvar ReactHTMLTableToExcel = function (_Component) {\n  _inherits(ReactHTMLTableToExcel, _Component);\n\n  function ReactHTMLTableToExcel(props) {\n    _classCallCheck(this, ReactHTMLTableToExcel);\n\n    var _this = _possibleConstructorReturn(this, (ReactHTMLTableToExcel.__proto__ || Object.getPrototypeOf(ReactHTMLTableToExcel)).call(this, props));\n\n    _this.handleDownload = _this.handleDownload.bind(_this);\n    return _this;\n  }\n\n  _createClass(ReactHTMLTableToExcel, [{\n    key: 'handleDownload',\n    value: function handleDownload() {\n      if (!document) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.error('Failed to access document object');\n        }\n\n        return null;\n      }\n\n      if (document.getElementById(this.props.table).nodeType !== 1 || document.getElementById(this.props.table).nodeName !== 'TABLE') {\n        if (process.env.NODE_ENV !== 'production') {\n          console.error('Provided table property is not html table element');\n        }\n\n        return null;\n      }\n\n      var table = document.getElementById(this.props.table).outerHTML;\n      var sheet = String(this.props.sheet);\n      var filename = String(this.props.filename) + '.xls';\n      var uri = 'data:application/vnd.ms-excel;base64,';\n      var template = '<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-mic' + 'rosoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\"><head><meta cha' + 'rset=\"UTF-8\"><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:Exce' + 'lWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/>' + '</x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></' + 'xml><![endif]--></head><body>{table}</body></html>';\n      var context = {\n        worksheet: sheet || 'Worksheet',\n        table: table\n      }; // If IE11\n\n      if (window.navigator.msSaveOrOpenBlob) {\n        var fileData = ['' + ('<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-mic' + 'rosoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\"><head><meta cha' + 'rset=\"UTF-8\"><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:Exce' + 'lWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/>' + '</x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></' + 'xml><![endif]--></head><body>') + table + '</body></html>'];\n        var blobObject = new Blob(fileData);\n        document.getElementById('react-html-table-to-excel').click()(function () {\n          window.navigator.msSaveOrOpenBlob(blobObject, filename);\n        });\n        return true;\n      }\n\n      var element = window.document.createElement('a');\n      element.href = uri + ReactHTMLTableToExcel.base64(ReactHTMLTableToExcel.format(template, context));\n      element.download = filename;\n      document.body.appendChild(element);\n      element.click();\n      document.body.removeChild(element);\n      return true;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement('button', {\n        id: this.props.id,\n        className: this.props.className,\n        type: 'button',\n        onClick: this.handleDownload\n      }, this.props.buttonText);\n    }\n  }], [{\n    key: 'base64',\n    value: function base64(s) {\n      return window.btoa(unescape(encodeURIComponent(s)));\n    }\n  }, {\n    key: 'format',\n    value: function format(s, c) {\n      return s.replace(/{(\\w+)}/g, function (m, p) {\n        return c[p];\n      });\n    }\n  }]);\n\n  return ReactHTMLTableToExcel;\n}(_react.Component);\n\nReactHTMLTableToExcel.propTypes = propTypes;\nReactHTMLTableToExcel.defaultProps = defaultProps;\nexports.default = ReactHTMLTableToExcel;"],"sourceRoot":""}