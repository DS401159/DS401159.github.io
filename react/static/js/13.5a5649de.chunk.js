(window.webpackJsonpmyreact=window.webpackJsonpmyreact||[]).push([[13],{204:function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"showToastNoMask",(function(){return j}));var a,c=n(36),u=n(37),o=n(39),s=n(38),l=n(40),i=(n(111),n(22)),p=n.n(i),m=(n(481),n(49)),f=n(953),d=n(954),b=n(202),h=n(948),g=n(949),y=n(317),v=n(68),w=n(239),x=/^1(3|5|7|8|9)\d{9}$/,E=10,k=null;function j(e){p.a.hide(),p.a.info(e,2,null,!1)}var O=Object(v.b)()(a=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).call(this))).getcode=function(){x.test(e.mobile.state.value)?(k=setInterval((function(){e.state.num>0?(e.state.num--,e.setState({txt:"\u8fd8\u5269"+e.state.num+"s",codeflag:!0})):(clearInterval(k),e.setState({txt:"\u83b7\u53d6\u9a8c\u8bc1\u7801",codeflag:!1,num:E}))}),1e3),m.b.post("/react/getcode",{mobile:e.mobile.state.value}).then((function(e){}))):clearInterval(k)},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields((function(t,n){t||m.b.post("/react/login",{mobile:n.mobile,code:n.code}).then((function(t){t.data.type?(sessionStorage.token=t.data.token,e.props.dispatch(Object(w.d)({url:"/react/getuser"})),m.c.push("/home/showscore")):j(t.data.msg)}))}))},e.state={txt:"\u83b7\u53d6\u9a8c\u8bc1\u7801",codeflag:!1,num:E},e}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,n=this.state,a=n.txt,c=n.codeflag;return r.createElement("div",{className:"login0"},r.createElement("div",{className:"login"},r.createElement("h1",{style:{textAlign:"center",fontWeight:"bold",color:"#fff"}},"\u6b22\u8fce\u767b\u5f55"),r.createElement(f.a,{onSubmit:this.handleSubmit,className:"login-form"},r.createElement(f.a.Item,null,t("mobile",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{pattern:/^1(3|5|7|8|9)\d{9}$/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"}]})(r.createElement(d.a,{ref:function(t){return e.mobile=t},prefix:r.createElement(b.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"}))),r.createElement(f.a.Item,null,r.createElement(h.a,{gutter:12},r.createElement(g.a,{span:14},t("code",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"},{pattern:/^\d{4}$/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u9a8c\u8bc1\u7801"}]})(r.createElement(d.a,{ref:function(t){return e.code=t},prefix:r.createElement(b.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}))),r.createElement(g.a,{span:8},r.createElement(y.a,{style:{backgroundColor:"skyblue"},onClick:this.getcode,disabled:c},a)))),r.createElement(f.a.Item,null,r.createElement(y.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{margin:"0 94px"}},"\u767b\u5f55")))))}}]),t}(e))||a;t.default=f.a.create({name:"normal_login"})(O)}.call(this,n(0).Component,n(0))},239:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f}));var r=n(370),a=n.n(r),c=n(371),u=n(49);function o(e){return s.apply(this,arguments)}function s(){return(s=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,e.next=3,u.b.get(n);case 3:return r=e.sent,e.abrupt("return",{type:"getbj",payload:r.data.result});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return i.apply(this,arguments)}function i(){return(i=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,e.next=3,u.b.get(n);case 3:return r=e.sent,e.abrupt("return",{type:"getkj",payload:r.data.result});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,e.next=3,u.b.get(n);case 3:return r=e.sent,e.abrupt("return",{type:"getqt",payload:r.data.result});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,e.next=3,u.b.get(n);case 3:return r=e.sent,e.abrupt("return",{type:"getuser",payload:r.data.result});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},481:function(e,t,n){}}]);
//# sourceMappingURL=13.5a5649de.chunk.js.map