(window.webpackJsonpmyreact=window.webpackJsonpmyreact||[]).push([[16],{583:function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"default",(function(){return j}));var a,o=n(36),c=n(37),s=n(39),l=n(38),i=n(40),u=n(478),d=n(954),h=n(952),m=n(49),p=n(68),f=(n(585),n(239)),b=n(586),x=n.n(b),y=n(13),w=n.n(y),k=u.a.Option,g=d.a.Search,v=[{title:"\u5e8f\u53f7",dataIndex:"i",key:"i",width:50,align:"center"},{title:"\u6846\u67b6",dataIndex:"type",key:"type",width:60,align:"center"},{title:"\u5f00\u53d1\u8005",dataIndex:"username",key:"username",width:60,align:"center"},{title:"\u9879\u76ee\u540d\u79f0",dataIndex:"projectName",key:"projectName",width:70,align:"center"},{title:"\u9879\u76ee\u5730\u5740",dataIndex:"projectUrl",key:"projectUrl",width:100,align:"center",textWrap:" word-break",render:function(t,n){return e.createElement("div",{style:{wordWrap:" break-word ",wordBreak:"break-word"}},t)}},{title:"\u5907\u6ce8",dataIndex:"readme",key:"readme",width:200,align:"center",textWrap:"word-break",render:function(t,n){return e.createElement("div",{style:{wordWrap:" break-word ",wordBreak:"break-word"}},t)}},{title:"\u9879\u76ee\u6280\u672f\u4eae\u70b9",dataIndex:"tech",key:"tech",width:200,align:"center",textWrap:" word-break",render:function(t,n){return e.createElement("div",{style:{wordWrap:" break-word ",wordBreak:"break-word"}},t)}},{title:"\u5206\u6570",dataIndex:"score",key:"score",width:50,align:"center",sorter:function(e,t){return e.score-t.score}}];function E(e){var t=[];return e.data.result.forEach((function(e,n){var r={};r.key=n+1,r.i=n+1,r.type=e.type,r.username=e.username,r.projectName=e.projectName,r.projectUrl=e.projectUrl,r.readme=e.readme,r.tech=e.tech,r.score=e.score?e.score:"",t.push(r)})),t}var j=Object(p.b)((function(e){return{bj:e.getIn(["data","bj"]),kj:e.getIn(["data","kj"]),user:e.getIn(["user","user"])}}))(a=function(t){function n(){var e;return Object(o.a)(this,n),(e=Object(s.a)(this,Object(l.a)(n).call(this))).handleChangemintor=function(t){e.setState({mintor:t}),setTimeout((function(){m.b.get("/react/getcore",{params:{mintor:e.state.mintor,type:e.state.type,search:e.state.search}}).then((function(t){var n=E(t);e.setState({data:n})}))}),100)},e.handleChangetype=function(t){e.setState({type:t}),setTimeout((function(){m.b.get("/react/getcore",{params:{mintor:e.state.mintor,type:e.state.type,search:e.state.search}}).then((function(t){var n=E(t);e.setState({data:n})}))}),100)},e.search=function(t){e.setState({search:t}),setTimeout((function(){m.b.get("/react/getcore",{params:{mintor:e.state.mintor,type:e.state.type,search:e.state.search}}).then((function(t){var n=E(t);e.setState({data:n})}))}),100)},e.state={mintor:"",type:"",search:"",data:[]},e}return Object(i.a)(n,t),Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(Object(f.a)({url:"/react/getbj"})),this.props.dispatch(Object(f.b)({url:"/react/getkj"})),0==this.state.data.length&&m.b.get("/react/getcore",{params:{mintor:"wh1906"}}).then((function(t){var n=E(t);e.setState({data:n})})),w.a.findDOMNode(this.table).querySelector("table").setAttribute("id","table-to-xls")}},{key:"render",value:function(){var t=this,n=this.props,r=n.bj,a=n.kj;return e.createElement("div",null,e.createElement("div",null,e.createElement("span",{className:"select"},"\u9009\u62e9\u5bf9\u5e94\u73ed\u7ea7\uff1a"),e.createElement(u.a,{defaultValue:"\u8bf7\u9009\u62e9",style:{width:180},onChange:this.handleChangemintor},r.map((function(t,n){return e.createElement(k,{value:t.code,key:n},t.value)}))),e.createElement("span",{className:"select",style:{marginLeft:40}},"\u8bf7\u9009\u62e9\u6846\u67b6\u7c7b\u578b:"),e.createElement(u.a,{defaultValue:"\u8bf7\u9009\u62e9\u6846\u67b6\u7c7b\u578b",style:{width:180},onChange:this.handleChangetype},a.map((function(t,n){return e.createElement(k,{value:t.p_code,key:n},t.value)}))),e.createElement(g,{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",onSearch:function(e){return t.search(e)},style:{width:200,margin:"0 60px"}}),e.createElement(x.a,{id:"test-table-xls-button",className:"download-table-xls-button excel",table:"table-to-xls",filename:"tablexls",sheet:"tablexls",buttonText:"\u5bfc\u51fa\u5230Excel"}),e.createElement("h1",{style:{marginTop:30}},"\u9879\u76ee\u8be6\u60c5"),e.createElement(h.a,{columns:v,dataSource:this.state.data,bordered:!0,ref:function(e){return t.table=e}})))}}]),n}(r))||a}.call(this,n(0),n(0).Component)},585:function(e,t,n){},586:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=s(a),c=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var l={table:c.default.string.isRequired,filename:c.default.string.isRequired,sheet:c.default.string.isRequired,id:c.default.string,className:c.default.string,buttonText:c.default.string},i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDownload=n.handleDownload.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"handleDownload",value:function(){if(!document)return null;if(1!==document.getElementById(this.props.table).nodeType||"TABLE"!==document.getElementById(this.props.table).nodeName)return null;var e=document.getElementById(this.props.table).outerHTML,n=String(this.props.sheet),r=String(this.props.filename)+".xls",a={worksheet:n||"Worksheet",table:e};if(window.navigator.msSaveOrOpenBlob){var o=new Blob(['<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>'+e+"</body></html>"]);return document.getElementById("react-html-table-to-excel").click()((function(){window.navigator.msSaveOrOpenBlob(o,r)})),!0}var c=window.document.createElement("a");return c.href="data:application/vnd.ms-excel;base64,"+t.base64(t.format('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>{table}</body></html>',a)),c.download=r,document.body.appendChild(c),c.click(),document.body.removeChild(c),!0}},{key:"render",value:function(){return o.default.createElement("button",{id:this.props.id,className:this.props.className,type:"button",onClick:this.handleDownload},this.props.buttonText)}}],[{key:"base64",value:function(e){return window.btoa(unescape(encodeURIComponent(e)))}},{key:"format",value:function(e,t){return e.replace(/{(\w+)}/g,(function(e,n){return t[n]}))}}]),t}(a.Component);i.propTypes=l,i.defaultProps={id:"button-download-as-xls",className:"button-download",buttonText:"Download"},t.default=i}}]);
//# sourceMappingURL=16.12690924.chunk.js.map