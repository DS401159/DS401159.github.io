(window.webpackJsonpmyreact=window.webpackJsonpmyreact||[]).push([[19],{644:function(e,t,n){"use strict";n.r(t),function(e,a){n.d(t,"default",(function(){return j}));var s,r=n(36),o=n(37),i=n(39),c=n(38),u=n(40),l=n(645),m=n.n(l),h=n(478),p=n(49),d=n(68),w=(n(940),n(239)),f=h.a.Option;function y(e){var t={score:[],username:[],mintor:"",kj:""};return e.data.result.forEach((function(e){t.score.push(e.score?e.score:0),t.username.push(e.username),t.kj=e.type,t.mintor=e.mintor.replace("wh","\u6b66\u6c49")})),t}var j=Object(d.b)((function(e){return{bj:e.getIn(["data","bj"]),kj:e.getIn(["data","kj"]),user:e.getIn(["user","user"])}}))(s=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(c.a)(t).call(this))).handleChangemintor=function(t){e.setState({mintor:t}),setTimeout((function(){p.b.get("/react/getcore",{params:{mintor:e.state.mintor,type:e.state.type,search:e.state.search}}).then((function(t){var n=y(t);if(e.setState({username:n.username,score:n.score,newmintor:n.mintor,newkj:n.kj}),e.state.username[0]){e.setState({show:"block"});e.content.style.width=window.innerWidth-250+"px";var a=m.a.init(e.content),s="".concat(e.state.newmintor,"-").concat(e.state.newkj);a.setOption({title:{text:s},tooltip:{},xAxis:{data:e.state.username},yAxis:{},series:[{name:"\u6210\u7ee9",type:"bar",data:e.state.score}]})}else e.setState({show:"none"})}))}),100)},e.handleChangetype=function(t){e.setState({type:t}),setTimeout((function(){p.b.get("/react/getcore",{params:{mintor:e.state.mintor,type:e.state.type,search:e.state.search}}).then((function(t){var n=y(t);if(e.setState({username:n.username,score:n.score,newmintor:n.mintor,newkj:n.kj}),e.state.username[0]){e.setState({show:"block"});e.content.style.width=window.innerWidth-250+"px";var a=m.a.init(e.content),s="".concat(e.state.newmintor,"-").concat(e.state.newkj);a.setOption({title:{text:s},tooltip:{},xAxis:{data:e.state.username},yAxis:{},series:[{name:"\u6210\u7ee9",type:"bar",data:e.state.score}]})}else e.setState({show:"none"})}))}),100)},e.state={mintor:"",type:"",username:[],score:[],newmintor:"",newkj:"",show:"block"},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(Object(w.a)({url:"/react/getbj"})),this.props.dispatch(Object(w.b)({url:"/react/getkj"})),this.state.username[0]||p.b.get("/react/getcore",{params:{mintor:"wh1903",type:"vue"}}).then((function(t){var n=y(t);if(e.setState({username:n.username,score:n.score,newmintor:n.mintor,newkj:n.kj}),e.state.username[0]){e.setState({show:"block"});e.content.style.width=window.innerWidth-250+"px";var a=m.a.init(e.content),s="".concat(e.state.newmintor,"-").concat(e.state.newkj);a.setOption({title:{text:s},tooltip:{},legend:{data:["\u6210\u7ee9"]},xAxis:{data:e.state.username,minInterval:1,axisLabel:{interval:0,formatter:function(e){return e.split("").join("\n")}}},yAxis:{},series:[{name:"\u6210\u7ee9",type:"bar",data:e.state.score}]})}else e.setState({show:"none"})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.bj,s=t.kj;return a.createElement("div",null,a.createElement("h2",null,"\u9879\u76ee\u6210\u7ee9 \u5206\u6790"),a.createElement("span",{className:"select"},"\u9009\u62e9\u5bf9\u5e94\u73ed\u7ea7\uff1a"),a.createElement(h.a,{defaultValue:"\u8bf7\u9009\u62e9",style:{width:180},onChange:this.handleChangemintor},n.map((function(e,t){return a.createElement(f,{value:e.code,key:t},e.value)}))),a.createElement("span",{className:"select",style:{marginLeft:40}},"\u8bf7\u9009\u62e9\u6846\u67b6\u7c7b\u578b:"),a.createElement(h.a,{defaultValue:"\u8bf7\u9009\u62e9\u6846\u67b6\u7c7b\u578b",style:{width:180},onChange:this.handleChangetype},s.map((function(e,t){return a.createElement(f,{value:e.p_code,key:t},e.value)}))),a.createElement("div",{ref:function(t){return e.content=t},style:{width:"100%",height:400,display:this.state.show}}),a.createElement("h2",{style:{display:"none"==this.state.show?"block":"none"}}," \u8fd8\u672a\u8bc4\u5b9a\u6210\u7ee9"))}}]),t}(e))||s}.call(this,n(0).Component,n(0))},940:function(e,t,n){}}]);
//# sourceMappingURL=19.01ba7020.chunk.js.map